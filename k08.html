<html>
<head>
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>8</title>
</head>
<body BGCOLOR=#ffffff>
<FONT SIZE="7">
<HR>
<A HREF="k09.html"><IMG SRC="rightarrow.gif" ALIGN=RIGHT BORDER=0></A>
<A HREF="k07.html"><IMG SRC="leftarrow.gif" ALIGN=RIGHT BORDER=0></A>
<H1>HTTP::Negotiate</H1>
<PRE><B>
sub accepts_gzip {
  my $r = shift;
  my $ae = $r->header_in("Accept-Encoding");
  require HTTP::Negotiate;
  require HTTP::Headers;
  my $hhh = HTTP::Headers->new("Accept-Encoding", $ae);

  my $variants = [
['identity', 0.1, undef, 'identity', undef, undef, undef],
['gzip',       1, undef, 'gzip',     undef, undef, undef],
];

  my $choose = HTTP::Negotiate::choose($variants, $hhh);
  $choose->[0] eq "gzip";
}
</B></PRE>
</FONT>
<HR>
<ADDRESS>
Internationalization<BR>
O'Reilly Apache Conference,
24 August 1999<br>
Andreas KÃ¶nig (on CPAN: <B>ANDK</B>)<BR>
<A HREF="mailto:andreas.koenig@anima.de">&lt;andreas.koenig@anima.de&gt;</A><BR>
</ADDRESS>
</body>
</html>
